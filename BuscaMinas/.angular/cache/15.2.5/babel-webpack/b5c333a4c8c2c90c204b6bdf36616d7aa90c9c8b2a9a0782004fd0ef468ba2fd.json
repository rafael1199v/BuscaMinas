{"ast":null,"code":"import { GameState } from '../models/Game.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/Cell.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction BoardComponent_option_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const mode_r4 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", mode_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(mode_r4);\n  }\n}\nfunction BoardComponent_div_4_tr_2_td_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 13);\n  }\n}\nfunction BoardComponent_div_4_tr_2_td_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cell_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cell_r9.mineProximity, \" \");\n  }\n}\nfunction BoardComponent_div_4_tr_2_td_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 16);\n    i0.ɵɵelement(2, \"path\", 17);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction BoardComponent_div_4_tr_2_td_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 18)(2, \"title\");\n    i0.ɵɵtext(3, \"flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"path\", 19);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction BoardComponent_div_4_tr_2_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 9);\n    i0.ɵɵlistener(\"click\", function BoardComponent_div_4_tr_2_td_1_Template_td_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const x_r10 = restoredCtx.index;\n      const y_r7 = i0.ɵɵnextContext().index;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.gameState == 1 && ctx_r16.checkCell(y_r7, x_r10));\n    })(\"contextmenu\", function BoardComponent_div_4_tr_2_td_1_Template_td_contextmenu_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const cell_r9 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r19.gameState == 1 && ctx_r19.flag(cell_r9));\n    });\n    i0.ɵɵtemplate(1, BoardComponent_div_4_tr_2_td_1_div_1_Template, 1, 0, \"div\", 10);\n    i0.ɵɵtemplate(2, BoardComponent_div_4_tr_2_td_1_div_2_Template, 2, 1, \"div\", 11);\n    i0.ɵɵtemplate(3, BoardComponent_div_4_tr_2_td_1_div_3_Template, 3, 0, \"div\", 12);\n    i0.ɵɵtemplate(4, BoardComponent_div_4_tr_2_td_1_div_4_Template, 5, 0, \"div\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cell_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cell_r9.status == \"toOpen\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cell_r9.status == \"open\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cell_r9.status == \"mine\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cell_r9.status == \"flag\");\n  }\n}\nfunction BoardComponent_div_4_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, BoardComponent_div_4_tr_2_td_1_Template, 5, 4, \"td\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rows_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", rows_r6);\n  }\n}\nfunction BoardComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\", 6);\n    i0.ɵɵtemplate(2, BoardComponent_div_4_tr_2_Template, 2, 1, \"tr\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.board);\n  }\n}\nfunction BoardComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\");\n    i0.ɵɵelement(2, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"Felicidades. Has Ganado!!!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction BoardComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3, \"Vuelve a Intentarlo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function BoardComponent_div_6_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.reset());\n    });\n    i0.ɵɵtext(5, \"Reset\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class BoardComponent {\n  constructor(cellService) {\n    this.cellService = cellService;\n    this.rows = 8;\n    this.columns = 8;\n    this.numberOfMines = 1;\n    this.gameState = GameState.playing;\n    this.cellsGame = {\n      cellsOpened: 0,\n      cells: this.rows * this.columns,\n      numberMines: this.numberOfMines\n    };\n    this.difficulty = \"Easy\";\n    this.board = [];\n    this.board = cellService.buildBoard(this.rows, this.columns, this.numberOfMines);\n  }\n  checkCell(row, column) {\n    // this.gameState = this.cellService.checkCell(this.board, row, column, this.cellsGame, this.numberOfMines, this.gameState);\n    this.cellService.openCell(this.board, row, column, this.rows, this.columns, this.cellsGame);\n    this.gameState = this.cellService.checkCell(this.board, row, column, this.cellsGame, this.numberOfMines, this.gameState);\n    // console.log(\"Estado del juego \", this.gameState)\n    // console.log(GameState.lose);\n    // console.log(GameState.playing);\n    // console.log(GameState.win);\n  }\n\n  flag(cell) {\n    this.cellService.flag(cell);\n    return false;\n  }\n  reset() {\n    this.board = this.cellService.buildBoard(this.rows, this.columns, this.numberOfMines);\n    this.gameState = GameState.playing;\n    this.cellsGame = {\n      cellsOpened: 0,\n      cells: this.rows * this.columns,\n      numberMines: this.numberOfMines\n    };\n  }\n  getDifficultys() {\n    return this.cellService.getDifficultys();\n  }\n  changeDifficulty() {\n    let changes = this.cellService.changeDifficulty(this.difficulty);\n    this.rows = changes[0];\n    this.columns = changes[1];\n    this.numberOfMines = changes[2];\n    this.reset();\n  }\n}\nBoardComponent.ɵfac = function BoardComponent_Factory(t) {\n  return new (t || BoardComponent)(i0.ɵɵdirectiveInject(i1.CellService));\n};\nBoardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BoardComponent,\n  selectors: [[\"app-board\"]],\n  decls: 7,\n  vars: 5,\n  consts: [[3, \"ngModel\", \"change\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"Win\", 4, \"ngIf\"], [\"class\", \"Lose\", 4, \"ngIf\"], [3, \"value\"], [1, \"Game\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\", \"contextmenu\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\", \"contextmenu\"], [\"class\", \"toOpenCells\", 4, \"ngIf\"], [\"class\", \"celdas\", 4, \"ngIf\"], [\"class\", \"mine\", 4, \"ngIf\"], [1, \"toOpenCells\"], [1, \"celdas\"], [1, \"mine\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"1em\", \"height\", \"1em\", \"viewBox\", \"0 0 24 24\"], [\"fill\", \"#cb2a2a\", \"d\", \"M23 13v-2h-3.07a8 8 0 0 0-1.62-3.9l2.19-2.17l-1.43-1.43l-2.17 2.19A8 8 0 0 0 13 4.07V1h-2v3.07c-1.42.18-2.77.74-3.9 1.62L4.93 3.5L3.5 4.93L5.69 7.1A8 8 0 0 0 4.07 11H1v2h3.07c.18 1.42.74 2.77 1.62 3.9L3.5 19.07l1.43 1.43l2.17-2.19c1.13.88 2.48 1.44 3.9 1.62V23h2v-3.07c1.42-.18 2.77-.74 3.9-1.62l2.17 2.19l1.43-1.43l-2.19-2.17a8 8 0 0 0 1.62-3.9zM12 8a4 4 0 0 0-4 4H6a6 6 0 0 1 6-6z\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 24 24\"], [\"d\", \"M14.4,6L14,4H5V21H7V14H12.6L13,16H20V6H14.4Z\"], [1, \"Win\"], [\"src\", \"../../assets/celebration.jpg\", \"alt\", \"Win\", 1, \"imgWin\"], [1, \"Lose\"], [3, \"click\"]],\n  template: function BoardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"Escoge la dificultad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"select\", 0);\n      i0.ɵɵlistener(\"change\", function BoardComponent_Template_select_change_2_listener() {\n        return ctx.changeDifficulty();\n      })(\"ngModelChange\", function BoardComponent_Template_select_ngModelChange_2_listener($event) {\n        return ctx.difficulty = $event;\n      });\n      i0.ɵɵtemplate(3, BoardComponent_option_3_Template, 2, 2, \"option\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, BoardComponent_div_4_Template, 3, 1, \"div\", 2);\n      i0.ɵɵtemplate(5, BoardComponent_div_5_Template, 5, 0, \"div\", 3);\n      i0.ɵɵtemplate(6, BoardComponent_div_6_Template, 6, 0, \"div\", 4);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.difficulty);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.getDifficultys());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.gameState == 1 || ctx.gameState == 0 || ctx.gameState == 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.gameState == 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.gameState == 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\".Game[_ngcontent-%COMP%]{\\r\\n    border: 1px solid grey;\\r\\n    border-collapse: collapse;\\r\\n    text-align: center;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n}\\r\\n\\r\\ntd[_ngcontent-%COMP%]{\\r\\n    border: 1px solid grey;\\r\\n    border-collapse: collapse;\\r\\n    width: 35px;\\r\\n    height: 35px;\\r\\n}\\r\\n\\r\\n.imgWin[_ngcontent-%COMP%]{\\r\\n    width: 400px;\\r\\n    height: 500px;\\r\\n}\\r\\n.celdas[_ngcontent-%COMP%], .mine[_ngcontent-%COMP%], .Win[_ngcontent-%COMP%], .Lose[_ngcontent-%COMP%]{\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.toOpenCells[_ngcontent-%COMP%]{\\r\\n    background: red;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYm9hcmQvYm9hcmQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHNCQUFzQjtJQUN0Qix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7QUFDakI7QUFDQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGVBQWU7QUFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyIuR2FtZXtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyZXk7XHJcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbn1cclxuXHJcbnRke1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgZ3JleTtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICB3aWR0aDogMzVweDtcclxuICAgIGhlaWdodDogMzVweDtcclxufVxyXG5cclxuLmltZ1dpbntcclxuICAgIHdpZHRoOiA0MDBweDtcclxuICAgIGhlaWdodDogNTAwcHg7XHJcbn1cclxuLmNlbGRhcywgLm1pbmUsIC5XaW4sIC5Mb3Nle1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4udG9PcGVuQ2VsbHN7XHJcbiAgICBiYWNrZ3JvdW5kOiByZWQ7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["GameState","i0","ctx_r16","ctx_r19","BoardComponent","constructor","cellService","playing","cellsOpened","cells","rows","columns","numberMines","numberOfMines","board","buildBoard","checkCell","row","column","openCell","cellsGame","gameState","flag","cell","reset","getDifficultys","changeDifficulty","changes","difficulty","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\ACER\\Desktop\\Universidad\\Semestre 3\\Programacion 2\\BuscaMinas2\\ClientApp\\src\\app\\board\\board.component.ts","C:\\Users\\ACER\\Desktop\\Universidad\\Semestre 3\\Programacion 2\\BuscaMinas2\\ClientApp\\src\\app\\board\\board.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Cell } from '../models/Cell';\nimport { CellService } from '../services/Cell.service';\nimport { GameState } from '../models/Game.enum';\n\n\n@Component({\n  selector: 'app-board',\n  templateUrl: './board.component.html',\n  styleUrls: ['./board.component.css']\n})\nexport class BoardComponent {\n  \n  rows: number = 8;\n  columns: number = 8;\n  numberOfMines: number = 1;\n  gameState: GameState = GameState.playing;\n  cellsGame: any = {cellsOpened: 0, cells: this.rows * this.columns, numberMines: this.numberOfMines};\n  difficulty: string = \"Easy\"\n  board: Cell[][] = [];\n\n  constructor(private cellService: CellService){\n   \n\n    this.board = cellService.buildBoard(this.rows, this.columns, this.numberOfMines); \n  }\n\n\n  checkCell(row: number, column: number){\n    // this.gameState = this.cellService.checkCell(this.board, row, column, this.cellsGame, this.numberOfMines, this.gameState);\n    this.cellService.openCell(this.board, row, column, this.rows, this.columns, this.cellsGame);\n    this.gameState = this.cellService.checkCell(this.board, row, column, this.cellsGame, this.numberOfMines, this.gameState);\n    // console.log(\"Estado del juego \", this.gameState)\n\n    // console.log(GameState.lose);\n    // console.log(GameState.playing);\n    // console.log(GameState.win);\n  }\n\n  flag(cell: Cell){\n    this.cellService.flag(cell);\n\n    return false;\n  }\n\n\n  reset(){\n    this.board = this.cellService.buildBoard(this.rows, this.columns, this.numberOfMines);\n    this.gameState = GameState.playing;\n    this.cellsGame = {cellsOpened: 0, cells: this.rows * this.columns, numberMines: this.numberOfMines};\n  }\n\n  getDifficultys() : string[]{\n    return this.cellService.getDifficultys();\n  }\n\n\n  changeDifficulty(){\n    let changes: [number, number, number] = this.cellService.changeDifficulty(this.difficulty);\n    this.rows = changes[0];\n    this.columns = changes[1];\n    this.numberOfMines = changes[2]; \n    this.reset();\n  }\n\n\n}\n","\n<p>Escoge la dificultad</p>\n<select (change)=\"changeDifficulty()\" [(ngModel)]=\"difficulty \">\n    <option *ngFor=\"let mode of this.getDifficultys()\" value=\"{{mode}}\">{{mode}}</option>\n</select>\n\n\n\n<div *ngIf=\"gameState == 1 || gameState == 0 || gameState == 2\">\n    <table class=\"Game\">\n        <tr *ngFor=\"let rows of board; index as y;\">\n            <td *ngFor=\"let cell of rows; index as x;\" (click)=\"gameState == 1 && checkCell(y, x)\" (contextmenu)=\"gameState == 1 && flag(cell)\">\n                <div *ngIf=\"cell.status == 'toOpen'\" class=\"toOpenCells\">\n                    \n                </div>\n\n                <div *ngIf=\"cell.status =='open'\" class=\"celdas\">\n                    {{cell.mineProximity}}\n                </div>\n\n                <div *ngIf=\"cell.status == 'mine'\" class=\"mine\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 24 24\"><path fill=\"#cb2a2a\" d=\"M23 13v-2h-3.07a8 8 0 0 0-1.62-3.9l2.19-2.17l-1.43-1.43l-2.17 2.19A8 8 0 0 0 13 4.07V1h-2v3.07c-1.42.18-2.77.74-3.9 1.62L4.93 3.5L3.5 4.93L5.69 7.1A8 8 0 0 0 4.07 11H1v2h3.07c.18 1.42.74 2.77 1.62 3.9L3.5 19.07l1.43 1.43l2.17-2.19c1.13.88 2.48 1.44 3.9 1.62V23h2v-3.07c1.42-.18 2.77-.74 3.9-1.62l2.17 2.19l1.43-1.43l-2.19-2.17a8 8 0 0 0 1.62-3.9zM12 8a4 4 0 0 0-4 4H6a6 6 0 0 1 6-6z\"/></svg>\n                </div>\n\n\n                <div *ngIf=\"cell.status == 'flag'\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><title>flag</title><path d=\"M14.4,6L14,4H5V21H7V14H12.6L13,16H20V6H14.4Z\" /></svg>\n                </div>\n            </td>\n        </tr>\n    </table>\n</div>\n\n<div *ngIf=\"gameState == 2\" class=\"Win\">\n    <div>\n        <img src=\"../../assets/celebration.jpg\" alt=\"Win\" class=\"imgWin\">\n    </div>\n\n    <h3>Felicidades. Has Ganado!!!</h3>\n</div>\n\n<div *ngIf=\"gameState == 0\" class=\"Lose\">\n    <br>\n    <h3>Vuelve a Intentarlo</h3>\n    <button (click)=\"reset()\">Reset</button>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}